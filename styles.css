:root {
  --bg: #0a0f1a;
  --bg-elev: #0d1424;
  --text: #e9f6ff;
  --muted: #9aa4b2;
  --primary: #00d1ff;
  --danger: #ff2b4f;
  --neon: 0 0 6px rgba(0, 209, 255, 0.35), 0 0 10px rgba(0, 209, 255, 0.2);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
  color: var(--text);
  background: var(--bg);
}

.app-header {
  display: flex; justify-content: space-between; align-items: center;
  padding: 16px 20px; border-bottom: 1px solid rgba(0,209,255,0.35);
  position: sticky; top: 0; z-index: 3000; background: var(--bg-elev);
}
.brand { display:flex; align-items:center; gap:12px; }
.brand .logo img { width: 120px; height: 100px; display:block; }
.brand h1 { margin:0; font-family: Orbitron, Inter, sans-serif; letter-spacing:.08em; font-size: 20px; }

.actions { display:flex; gap:10px; }
.tab-button {
  background:#000; color:var(--text);
  border:1px solid rgba(0,209,255,.35); padding:10px 14px; border-radius:10px;
  cursor:pointer; transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.tab-button:hover { transform: translateY(-1px); box-shadow: var(--neon); border-color: rgba(0,209,255,.8); }
.tab-button.active { border-color:#00d1ff; box-shadow: var(--neon); }
/* Header responsivo (mobile) */
@media (max-width: 640px){
  .app-header { flex-wrap: wrap; align-items: flex-start; gap: 8px; }
  .brand .logo img { width: 56px; height: 56px; }
  .brand h1 { font-size: 18px; }
  .actions { width: 100%; flex-wrap: wrap; justify-content: flex-start; gap: 8px; }
  .actions .tab-button { flex: 1 1 auto; min-width: 120px; }
  #lang-toggle.tab-button { min-width: 140px; }
}

#app { min-height: 100vh; display:flex; flex-direction:column; }
.app-main { max-width: 1200px; margin: 0 auto; padding: 20px; flex:1; width:100%; }
.panel { display:none; }
.panel.visible { display:block; }
.panel-header { display:flex; justify-content:space-between; align-items:end; gap:16px; flex-wrap:wrap; margin-bottom:16px; }
.panel-header h2 { margin:0; font-family: Orbitron, Inter, sans-serif; letter-spacing:.06em; }

.filters { display:flex; gap:12px; align-items:end; flex-wrap:wrap; }
label { display:grid; gap:6px; font-size:12px; color:var(--muted); }
input, select, button { font: inherit; color: var(--text); }
input[type="text"], input[type="number"], select {
  background:#000; border:2px solid #00d1ff; padding:10px 12px; border-radius:10px; box-shadow: var(--neon);
  min-width: 0; /* fix overflow in grid */
}
input[type="number"] { appearance: textfield; -moz-appearance: textfield; }
input[type="number"]::-webkit-outer-spin-button, input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin:0; }

button, .primary, .icon-btn, .tab-button {
  display:inline-flex; align-items:center; justify-content:center; gap:.4rem;
  padding:.6rem .9rem; max-width:100%; white-space:nowrap; text-overflow:ellipsis; overflow:hidden;
}
.primary { border:2px solid #00d1ff; background:#000; border-radius:10px; box-shadow: var(--neon); cursor:pointer; }
.primary:hover { transform: translateY(-1px); box-shadow: 0 0 10px rgba(0,209,255,0.35); }
.icon-btn { border:2px solid #00d1ff; background:#000; border-radius:10px; box-shadow: var(--neon); cursor:pointer; width:44px; height:44px; padding:0; }
.icon-btn img { width:22px; height:22px; display:block; }

.results { display:flex; flex-direction:column; gap:16px; }
.card {
  background:#081021; border:2px solid rgba(0,209,255,.35); border-radius:12px; padding:14px;
  box-shadow: 0 0 16px rgba(0,209,255,.12);
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
  cursor: pointer;
}
.card-grid { display:grid; grid-template-columns: 1fr auto; align-items:center; gap:14px; }
.card h3 { margin:0; font-size:18px; }
.card .sub { font-size:12px; color:var(--muted); }
.badge { display:inline-block; padding:4px 8px; border-radius:16px; font-size:.75rem; border:1px solid currentColor; margin-left:8px; }
.badge.safe { color:#7ae7ff; }
.badge.danger { color:#ff7a8f; }
.card-col { display:grid; gap:6px; }
.card-col.right { display:grid; gap:8px; justify-items:end; text-align:right; }

.card:hover {
  transform: scale(1.01);
  box-shadow: 0 0 22px rgba(0,209,255,.25);
  border-color: rgba(0,209,255,.6);
}

.paginator { display:flex; gap:12px; align-items:center; justify-content:center; margin:16px 0; }
.hidden { display:none; }
.empty { color: var(--muted); text-align:center; padding: 40px 0; }

/* Map and aside */
.sim-layout { display:grid; grid-template-columns: 1fr 360px; gap:16px; align-items:start; }
@media (max-width: 980px) { .sim-layout { grid-template-columns: 1fr; } }
.mapbox { width:100%; height:520px; border:1px solid rgba(0,209,255,.3); border-radius:12px; box-shadow: 0 0 16px rgba(0,209,255,.08); }
.legend { margin-top:8px; color:#9cc7d6; font-size:.9rem; }
.legend-chip { display:inline-block; width:10px; height:10px; border-radius:50%; margin-right:6px; }
.legend-label { text-decoration: none; border-bottom: 1px dotted rgba(255,255,255,.25); cursor: help; }
.leaflet-container { background:#06131a; }
/* Pequeno ajuste visual do Ã­cone de tooltip */
#impact-results .metric span[aria-hidden="true"] { opacity:.7; margin-left:6px; }

.impact-aside { background:#050913; border:1px solid rgba(0,209,255,.3); border-radius:12px; padding:16px; box-shadow:0 0 16px rgba(0,209,255,.08); min-width:0; }
.impact-aside h3 { margin:0 0 10px 0; font-size:18px; color:#12e6ff; text-shadow:0 0 8px rgba(18,230,255,.3); }
.metric { display:grid; grid-template-columns: 1fr 1fr; gap:10px; padding:6px 0; border-bottom:1px dashed rgba(0,209,255,.15); align-items:center; }
.metric:last-child { border-bottom:none; }
.metric strong { display:block; }
.impact-aside input, .impact-aside select { width:100%; }
.impact-aside .btn-row { margin-top:10px; display:flex; gap:8px; flex-wrap:wrap; }

#impact-results { margin-top:16px; background:#071227; border:1px solid rgba(0,209,255,.3); border-radius:12px; padding:16px; }
#impact-results.hidden { display:none; }
#impact-results h4 { margin:0 0 6px 0; color:#7ae7ff; }
#impact-results .grid { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px 16px; }
@media (max-width:1100px){ #impact-results .grid { grid-template-columns: repeat(2, 1fr); } }
@media (max-width:640px){ #impact-results .grid { grid-template-columns: 1fr; } }

/* Melhorar a estabilidade do layout dos resultados */
#impact-results .metric { align-items:start; }
#impact-results .metric > * { min-width:0; }
#impact-results .metric span { overflow-wrap:anywhere; }
#impact-results .metric strong { text-align:right; overflow-wrap:anywhere; font-variant-numeric: tabular-nums; }

.site-footer { margin-top:32px; background: linear-gradient(180deg, rgba(0,209,255,.06), rgba(0,209,255,.02)); border-top:1px solid rgba(0,209,255,.25); }
.footer-grid { max-width:1200px; margin:0 auto; padding:20px; display:grid; grid-template-columns: 1.3fr 1fr; gap:24px; }
@media (max-width: 900px){ .footer-grid { grid-template-columns: 1fr; } }
.footer-logo { width:48px; height:48px; border-radius:8px; }
.brand-row { display:flex; align-items:center; gap:12px; }
.footer-title { font-family: Orbitron, Inter, sans-serif; font-size:18px; letter-spacing:.06em; }
.footer-sub { color:#9cc7d6; font-size:.9rem; }
.footer-desc { margin:8px 0 0 0; color:#9aa4b2; font-size:.95rem; }
.footer-links { display:grid; grid-template-columns: repeat(2, minmax(160px, 1fr)); gap:16px; }
.footer-col { display:grid; gap:8px; }
.footer-col-title { color:#12e6ff; font-weight:600; margin-bottom:4px; }
.footer-links a { color:#e9f6ff; text-decoration:none; opacity:.9; }
.footer-links a:hover { text-decoration:underline; }
.footer-meta { grid-column:1 / -1; display:flex; justify-content:space-between; align-items:center; gap:12px; color:#9aa4b2; border-top:1px dashed rgba(0,209,255,.2); padding-top:12px; }
@media (max-width: 900px){ .footer-meta { flex-direction:column; align-items:flex-start; } }
